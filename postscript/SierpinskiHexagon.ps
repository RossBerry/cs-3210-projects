%!PS
%% SierpinskiHexagon.ps
%% Author: Kenneth Berry
%% Draws a hexagon of Sierpinkski Triangles using rotation.

% ------------ Variables & Procedures -------------

/circlebackground
{
    gsave
    newpath
    306 392 translate
    0 0 0 setrgbcolor
    0 0 282 0 360 arc fill
    grestore
} def

/sierpinkski
{
    dup 1 ge {
        1 sub
        gsave
        1 2 div dup scale
        dup sierpinkski 
        1 0 translate
        dup sierpinkski 
        -0.5 3 sqrt 2 div translate
        dup sierpinkski 
        grestore
    }{
        newpath 0 0 moveto
        1 0 lineto
        0.5 3 sqrt 2 div lineto
        closepath fill
    } ifelse pop
} def

/hexagon
{
    gsave
    306 392 translate
    280 280 scale

    0 setlinewidth
    1 1 1 setrgbcolor
    6 {
        60 rotate
        10 sierpinkski 
    } repeat
    grestore
} def


% Draw background and then draw Sierpinkski hexagon.
circlebackground
hexagon

/Helvetica findfont 12 scalefont setfont
10 775 moveto
(Kenneth Berry) show

showpage